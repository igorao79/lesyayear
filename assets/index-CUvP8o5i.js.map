{"version":3,"file":"index-CUvP8o5i.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/components/FirstPage/Title/Title.tsx","../../src/components/FirstPage/Counter/Counter.tsx","../../src/components/utils/ScrollArrow/ScrollArrow.tsx","../../src/components/FirstPage/FirstPage.tsx","../../src/components/utils/OptimizedBackground/OptimizedBackground.tsx","../../src/components/utils/OptimizedImage/OptimizedImage.tsx","../../src/components/StoryBlock/StoryBlock.tsx","../../src/components/utils/ScrollToTop/ScrollToTop.tsx","../../src/components/FinalPage/FinalPage.tsx","../../src/components/utils/HeartsAnimation/HeartsAnimation.tsx","../../src/components/utils/PageTransition/PageTransition.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react'\nimport styles from './Title.module.scss'\n\ninterface TitleProps {\n  show: boolean\n}\n\nexport const Title: React.FC<TitleProps> = ({ show }) => {\n  console.log('Title show:', show)\n  return (\n    <h1 className={`${styles.title} ${show ? styles.show : ''}`}>\n      С годовщиной, Леся!\n    </h1>\n  )\n} ","import React from 'react'\r\nimport styles from './Counter.module.scss'\r\n\r\ninterface CounterProps {\r\n  number: number\r\n  showYear: boolean\r\n  show: boolean\r\n}\r\n\r\nexport const Counter: React.FC<CounterProps> = ({ number, showYear, show }) => {\r\n  return (\r\n    <div className={`${styles.counter} ${show ? styles.show : ''}`}>\r\n      <span className={styles.text}>Мы вместе уже</span>\r\n      <div className={styles.counterWrapper}>\r\n        <span className={styles.number}>{number}</span>\r\n        <span className={`${styles.year} ${showYear ? styles.show : ''}`}>год</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport styles from './ScrollArrow.module.scss'\r\n\r\ninterface ScrollArrowProps {\r\n  show: boolean\r\n  onClick: () => void\r\n}\r\n\r\nexport const ScrollArrow: React.FC<ScrollArrowProps> = ({ show, onClick }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div \r\n        className={`${styles.arrow} ${show ? styles.show : ''}`}\r\n        onClick={onClick}\r\n      >\r\n        ↓\r\n      </div>\r\n    </div>\r\n  )\r\n} ","import React, { useState, useEffect } from 'react';\r\nimport styles from './FirstPage.module.scss';\r\nimport { Title } from './Title/Title';\r\nimport { Counter } from './Counter/Counter';\r\nimport { ScrollArrow } from '../utils/ScrollArrow/ScrollArrow';\r\n\r\ninterface FirstPageProps {\r\n  showText: boolean;\r\n  showNumber: boolean;\r\n  number: number;\r\n  showYear: boolean;\r\n  showArrow: boolean;\r\n  onScrollClick: () => void;\r\n  pageRef: React.RefObject<HTMLDivElement>;\r\n}\r\n\r\nexport const FirstPage: React.FC<FirstPageProps> = ({\r\n  showText,\r\n  showNumber,\r\n  number,\r\n  showYear,\r\n  showArrow,\r\n  onScrollClick,\r\n  pageRef,\r\n}) => {\r\n  const [bgLoaded, setBgLoaded] = useState(false);\r\n  const [bgUrl, setBgUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    const checkFormatSupport = async () => {\r\n      try {\r\n        // Проверяем поддержку AVIF\r\n        const avifSupported = await supportsAvif();\r\n        const format = avifSupported ? 'avif' : 'jpg';\r\n        const imageUrl = `/lesyayear/images/back/page1.${format}`;\r\n        setBgUrl(imageUrl);\r\n\r\n        // Предзагрузка изображения\r\n        const img = new Image();\r\n        img.src = imageUrl;\r\n        img.onload = () => setBgLoaded(true);\r\n        img.onerror = () => {\r\n          // Фолбэк на JPG если выбранный формат не загрузился\r\n          const fallbackUrl = '/lesyayear/images/back/page1.jpg';\r\n          setBgUrl(fallbackUrl);\r\n          const fallbackImg = new Image();\r\n          fallbackImg.src = fallbackUrl;\r\n          fallbackImg.onload = () => setBgLoaded(true);\r\n        };\r\n      } catch (error) {\r\n        console.error('Error loading background image:', error);\r\n        setBgUrl('/lesyayear/images/back/page1.jpg');\r\n        setBgLoaded(true);\r\n      }\r\n    };\r\n\r\n    checkFormatSupport();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={pageRef}\r\n      className={`${styles.firstPage} ${bgLoaded ? styles.bgLoaded : ''}`}\r\n      style={{ '--bg-image': bgUrl ? `url(${bgUrl})` : 'none' } as React.CSSProperties}\r\n    >\r\n      <div className={styles.content}>\r\n        <Title show={showText} />\r\n        <Counter show={showNumber} number={number} showYear={showYear} />\r\n        <ScrollArrow show={showArrow} onClick={onScrollClick} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Функция проверки поддержки AVIF\r\nasync function supportsAvif() {\r\n  if (!self.createImageBitmap) return false;\r\n\r\n  const avifData = 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAABAA0ABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=';\r\n  \r\n  try {\r\n    const blob = await fetch(avifData).then((r) => r.blob());\r\n    await createImageBitmap(blob);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}","import React, { useEffect, useState } from 'react'\nimport styles from './OptimizedBackground.module.scss'\n\ninterface OptimizedBackgroundProps {\n  image: {\n    avif: string\n    webp: string\n    jpg: string\n  }\n}\n\nexport const OptimizedBackground: React.FC<OptimizedBackgroundProps> = ({ image }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    const img = new Image()\n    \n    const handleLoad = () => setIsLoaded(true)\n    const handleError = () => setError(true)\n    \n    img.onload = handleLoad\n    img.onerror = handleError\n    \n    // Пробуем форматы по очереди\n    img.src = image.avif\n    \n    return () => {\n      img.onload = null\n      img.onerror = null\n    }\n  }, [image])\n\n  if (error || !isLoaded) {\n    return <div className={styles.placeholder} />\n  }\n\n  return (\n    <div \n      className={styles.background}\n      style={{\n        '--avif-url': `url(${image.avif})`,\n        '--webp-url': `url(${image.webp})`,\n        '--jpg-url': `url(${image.jpg})`,\n      } as React.CSSProperties}\n    />\n  )\n}","import React, { useEffect, useState } from 'react'\nimport styles from './OptimizedImage.module.scss'\n\ninterface OptimizedImageProps {\n  avif: string\n  webp: string\n  jpg: string\n  alt: string\n  className?: string\n}\n\nexport const OptimizedImage: React.FC<OptimizedImageProps> = ({ avif, webp, jpg, alt, className }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n\n  useEffect(() => {\n    const img = new Image()\n    img.onload = () => setIsLoaded(true)\n    img.src = avif // Пробуем сначала AVIF\n  }, [avif])\n\n  if (!isLoaded) {\n    return <div className={`${styles.placeholder} ${className || ''}`} />\n  }\n\n  return (\n    <picture className={className}>\n      <source srcSet={avif} type=\"image/avif\" />\n      <source srcSet={webp} type=\"image/webp\" />\n      <img src={jpg} alt={alt} className={styles.image} loading=\"lazy\" />\n    </picture>\n  )\n} ","import React, { useState, useEffect } from 'react'\nimport styles from './StoryBlock.module.scss'\nimport { ScrollArrow } from '../utils/ScrollArrow/ScrollArrow'\nimport { OptimizedBackground } from '../utils/OptimizedBackground/OptimizedBackground'\nimport { OptimizedImage } from '../utils/OptimizedImage/OptimizedImage'\n\ninterface StoryItem {\n  text: string\n  image: {\n    avif: string\n    webp: string\n    jpg: string\n  }\n}\n\ninterface StoryBlockProps {\n  title: string\n  items: StoryItem[]\n  onScrollClick?: () => void\n  backgroundImage: {\n    avif: string\n    webp: string\n    jpg: string\n  }\n  showArrow?: boolean\n  startAnimation?: boolean\n}\n\nexport const StoryBlock: React.FC<StoryBlockProps> = ({ \n  title, \n  items, \n  onScrollClick, \n  backgroundImage,\n  showArrow = true,\n  startAnimation = false\n}) => {\n  const [showTitle, setShowTitle] = useState(false)\n  const [showItems, setShowItems] = useState<boolean[]>(new Array(items.length).fill(false))\n  const [showArrowState, setShowArrowState] = useState(false)\n\n  useEffect(() => {\n    if (!startAnimation) {\n      setShowTitle(false)\n      setShowItems(new Array(items.length).fill(false))\n      setShowArrowState(false)\n      return\n    }\n\n    const titleTimer = setTimeout(() => {\n      setShowTitle(true)\n    }, 500)\n    \n    const itemTimers = items.map((_, index) => {\n      return setTimeout(() => {\n        setShowItems(prev => {\n          const newItems = [...prev]\n          newItems[index] = true\n          return newItems\n        })\n        \n        if (index === items.length - 1) {\n          setTimeout(() => setShowArrowState(true), 1000)\n        }\n      }, 1000 + index * 1500)\n    })\n\n    return () => {\n      clearTimeout(titleTimer)\n      itemTimers.forEach(timer => clearTimeout(timer))\n    }\n  }, [items.length, startAnimation])\n\n  return (\n    <div className={styles.storyBlock}>\n      <OptimizedBackground image={backgroundImage} />\n      <div className={styles.content}>\n        <h2 className={`${styles.title} ${showTitle ? styles.show : ''}`}>\n          {title}\n        </h2>\n        <div className={styles.items}>\n          {items.map((item, index) => (\n            <div key={index} className={`${styles.item} ${showItems[index] ? styles.show : ''}`}>\n              <p className={styles.text}>{item.text}</p>\n              <div className={styles.imageWrapper}>\n                <OptimizedImage\n                  avif={item.image.avif}\n                  webp={item.image.webp}\n                  jpg={item.image.jpg}\n                  alt={item.text}\n                  className={styles.image}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n        {showArrow && onScrollClick && <ScrollArrow show={showArrowState} onClick={onScrollClick} />}\n      </div>\n    </div>\n  )\n} ","import React from 'react'\nimport styles from './ScrollToTop.module.scss'\n\ninterface ScrollToTopProps {\n  onClick: () => void\n}\n\nconst ScrollToTop: React.FC<ScrollToTopProps> = ({ onClick }) => {\n  return (\n    <div className={styles.scrollToTop} onClick={onClick}>\n      <span className={styles.arrow}>↑</span>\n    </div>\n  )\n}\n\nexport default ScrollToTop ","import { useEffect, useState, useCallback, memo, useRef } from 'react'\nimport styles from './FinalPage.module.scss'\nimport ScrollToTop from '../utils/ScrollToTop/ScrollToTop'\n\ninterface FinalPageProps {\n  onScrollToTop: () => void\n}\n\nconst MemoizedText = memo(({ text, show, isLast }: { text: string; show: boolean; isLast: boolean }) => (\n  <h2 className={`${styles.text} ${show ? styles.show : ''} ${isLast ? styles.lastText : ''}`}>\n    {text}\n  </h2>\n))\n\nconst MemoizedGifs = memo(({ show }: { show: boolean }) => {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [isVisible, setIsVisible] = useState(false)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        setIsVisible(entry.isIntersecting)\n      },\n      { threshold: 0.1 }\n    )\n\n    if (containerRef.current) {\n      observer.observe(containerRef.current)\n    }\n\n    return () => {\n      if (containerRef.current) {\n        observer.unobserve(containerRef.current)\n      }\n    }\n  }, [])\n\n  return (\n    <div ref={containerRef} className={`${styles.gifsContainer} ${show ? styles.show : ''}`}>\n      {isVisible && (\n        <>\n          <img src=\"/lesyayear/images/kotikleft.gif\" alt=\"Love gif 1\" className={styles.gif} loading=\"lazy\" />\n          <img src=\"/lesyayear/images/kotikright.gif\" alt=\"Love gif 2\" className={styles.gif} loading=\"lazy\" />\n        </>\n      )}\n    </div>\n  )\n})\n\nexport const FinalPage = ({ onScrollToTop }: FinalPageProps) => {\n  const [showTexts, setShowTexts] = useState<boolean[]>(new Array(3).fill(false))\n  const [showGifs, setShowGifs] = useState(false)\n  const [showScrollToTop, setShowScrollToTop] = useState(false)\n\n  const handleScrollToTop = useCallback(() => {\n    onScrollToTop()\n  }, [onScrollToTop])\n\n  useEffect(() => {\n    // Показываем тексты последовательно\n    const textTimers = [0, 1, 2].map((index) => {\n      return setTimeout(() => {\n        setShowTexts(prev => {\n          const newTexts = [...prev]\n          newTexts[index] = true\n          return newTexts\n        })\n        \n        // После показа всех текстов показываем гифки\n        if (index === 2) {\n          setTimeout(() => {\n            setShowGifs(true)\n            // Показываем стрелку после показа гифок\n            setTimeout(() => {\n              setShowScrollToTop(true)\n            }, 1000)\n          }, 1000)\n        }\n      }, 1000 + index * 1500)\n    })\n\n    return () => {\n      textTimers.forEach(timer => clearTimeout(timer))\n      setShowScrollToTop(false)\n    }\n  }, [])\n\n  return (\n    <div className={styles.finalPage}>\n      <div className={styles.content}>\n        <MemoizedText text=\"Спасибо тебе за все\" show={showTexts[0]} isLast={false} />\n        <MemoizedText text=\"Надеюсь, мы будем вместе всегда\" show={showTexts[1]} isLast={false} />\n        <MemoizedText text=\"Я очень тебя люблю\" show={showTexts[2]} isLast={true} />\n        <MemoizedGifs show={showGifs} />\n      </div>\n      {showScrollToTop && <ScrollToTop onClick={handleScrollToTop} />}\n    </div>\n  )\n} ","import React, { useEffect, useRef } from 'react'\nimport styles from './HeartsAnimation.module.scss'\n\nconst MAX_HEARTS = window.innerWidth < 768 ? 8 : 15\nconst HEARTS = ['❤️', '💖', '💝', '💕', '💗', '💓', '💞', '💘']\n\nexport const HeartsAnimation: React.FC = () => {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const heartsRef = useRef<Set<number>>(new Set())\n  const nextIdRef = useRef(0)\n  const isActiveRef = useRef(true)\n\n  useEffect(() => {\n    if (!containerRef.current) return\n\n    const createHeart = () => {\n      if (!isActiveRef.current || !containerRef.current) return\n\n      const id = nextIdRef.current++\n      heartsRef.current.add(id)\n\n      const containerHeight = containerRef.current.offsetHeight\n      const heart = document.createElement('div')\n      heart.className = styles.heart\n      heart.dataset.id = id.toString()\n\n      const emoji = HEARTS[Math.floor(Math.random() * HEARTS.length)]\n      const left = Math.random() * 100\n      const duration = window.innerWidth < 768 \n        ? 4 + Math.random() * 2 \n        : 6 + Math.random() * 3\n      const delay = Math.random() * 2\n\n      heart.style.left = `${left}%`\n      heart.style.bottom = `${containerHeight}px`\n      heart.style.animationDuration = `${duration}s`\n      heart.style.animationDelay = `${delay}s`\n      heart.style.willChange = 'transform'\n      heart.textContent = emoji\n\n      heart.addEventListener('animationend', () => {\n        heart.remove()\n        heartsRef.current.delete(id)\n      })\n\n      containerRef.current.appendChild(heart)\n\n      // Ограничение количества сердец\n      if (heartsRef.current.size > MAX_HEARTS) {\n        const oldestId = Array.from(heartsRef.current)[0]\n        const oldestHeart = containerRef.current.querySelector(`[data-id=\"${oldestId}\"]`)\n        oldestHeart?.remove()\n        heartsRef.current.delete(oldestId)\n      }\n    }\n\n    const handleVisibilityChange = () => {\n      isActiveRef.current = !document.hidden\n      if (document.hidden && containerRef.current) {\n        containerRef.current.innerHTML = ''\n        heartsRef.current.clear()\n      }\n    }\n\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n    const intervalId = setInterval(createHeart, window.innerWidth < 768 ? 800 : 500)\n\n    return () => {\n      clearInterval(intervalId)\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n      if (containerRef.current) {\n        containerRef.current.innerHTML = ''\n      }\n      heartsRef.current.clear()\n    }\n  }, [])\n\n  return <div ref={containerRef} className={styles.heartsContainer} />\n}","import React, { useEffect, useState } from 'react'\nimport styles from './PageTransition.module.scss'\n\ninterface PageTransitionProps {\n  onTransitionEnd: () => void\n  onScrollStart: () => void\n  isVisible: boolean\n  direction?: 'up' | 'down'\n}\n\nexport const PageTransition: React.FC<PageTransitionProps> = ({ \n  onTransitionEnd, \n  onScrollStart, \n  isVisible,\n  direction = 'down' \n}) => {\n  const [isAnimating, setIsAnimating] = useState(true)\n\n  useEffect(() => {\n    // Сначала показываем анимацию\n    const showAnimation = setTimeout(() => {\n      // После небольшой задержки начинаем скролл\n      onScrollStart()\n    }, 400)\n\n    // Анимация длится 1.5 секунды\n    const hideAnimation = setTimeout(() => {\n      setIsAnimating(false)\n      onTransitionEnd()\n    }, 800)\n\n    return () => {\n      clearTimeout(showAnimation)\n      clearTimeout(hideAnimation)\n    }\n  }, [onTransitionEnd, onScrollStart])\n\n  return (\n    <>\n      <div className={`${styles.transition} ${isAnimating ? styles.animate : ''} ${direction === 'up' ? styles.up : ''}`}>\n        <div className={styles.heart}>❤️</div>\n      </div>\n      <div style={{ visibility: isVisible ? 'visible' : 'hidden' }}>\n        {/* Здесь будут блоки */}\n      </div>\n    </>\n  )\n} ","import { useState, useEffect, useRef } from 'react'\nimport { FirstPage } from './components/FirstPage/FirstPage'\nimport { StoryBlock } from './components/StoryBlock/StoryBlock'\nimport { FinalPage } from './components/FinalPage/FinalPage'\nimport { HeartsAnimation } from './components/utils/HeartsAnimation/HeartsAnimation'\nimport { PageTransition } from './components/utils/PageTransition/PageTransition'\nimport styles from './App.module.scss'\n\nconst secondPageItems = [\n  {\n    text: 'Познакомиться и полюбить друг друга',\n    image: {\n      avif: '/lesyayear/images/us/meet.avif',\n      webp: '/lesyayear/images/us/meet.webp',\n      jpg: '/lesyayear/images/us/meet.jpg'\n    }\n  },\n  {\n    text: 'Пройти через многие трудности',\n    image: {\n      avif: '/lesyayear/images/us/memories.avif',\n      webp: '/lesyayear/images/us/memories.webp',\n      jpg: '/lesyayear/images/us/memories.jpg'\n    }\n  }\n]\n\nconst thirdPageItems = [\n  {\n    text: 'Впервые побывали в столице',\n    image: {\n      avif: '/lesyayear/images/us/travel.avif',\n      webp: '/lesyayear/images/us/travel.webp',\n      jpg: '/lesyayear/images/us/travel.jpg'\n    }\n  },\n  {\n    text: 'Почувствовали морской бриз',\n    image: {\n      avif: '/lesyayear/images/us/support.avif',\n      webp: '/lesyayear/images/us/support.webp',\n      jpg: '/lesyayear/images/us/support.jpg'\n    }\n  }\n]\n\nconst fourthPageItems = [\n  {\n    text: 'Это замечательное лето вместе',\n    image: {\n      avif: '/lesyayear/images/us/summer.avif',\n      webp: '/lesyayear/images/us/summer.webp',\n      jpg: '/lesyayear/images/us/summer.jpg'\n    }\n  },\n  {\n    text: 'И с каждым днем ты становишься все прекраснее',\n    image: {\n      avif: '/lesyayear/images/us/computer.avif',\n      webp: '/lesyayear/images/us/computer.webp',\n      jpg: '/lesyayear/images/us/computer.jpg'\n    }\n  }\n]\n\nfunction App() {\n  const [showText, setShowText] = useState(false)\n  const [showNumber, setShowNumber] = useState(false)\n  const [number, setNumber] = useState(0)\n  const [showYear, setShowYear] = useState(false)\n  const [showArrow, setShowArrow] = useState(false)\n  const [showStory, setShowStory] = useState(false)\n  const [showThirdPage, setShowThirdPage] = useState(false)\n  const [showFourthPage, setShowFourthPage] = useState(false)\n  const [showFinalPage, setShowFinalPage] = useState(false)\n  const [showTransition, setShowTransition] = useState(false)\n  const [isResetting, setIsResetting] = useState(false)\n  const [isTransitionVisible, setIsTransitionVisible] = useState(false)\n  const [startStoryAnimation, setStartStoryAnimation] = useState(false)\n  const [startThirdPageAnimation, setStartThirdPageAnimation] = useState(false)\n  const [startFourthPageAnimation, setStartFourthPageAnimation] = useState(false)\n  const firstPageRef = useRef<HTMLDivElement>(null)\n  const storyRef = useRef<HTMLDivElement>(null)\n  const thirdPageRef = useRef<HTMLDivElement>(null)\n  const fourthPageRef = useRef<HTMLDivElement>(null)\n  const finalPageRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (isResetting) {\n      setIsResetting(false)\n      return\n    }\n\n    console.log('Effect started')\n    \n    const textTimer = setTimeout(() => {\n      console.log('Showing text')\n      setShowText(true)\n    }, 1000)\n\n    const numberTimer = setTimeout(() => {\n      console.log('Showing number')\n      setShowNumber(true)\n    }, 2000)\n\n    let numberInterval: number\n    let startTime: number\n    const duration = 2500 \n    const numbers = Array.from({ length: 50 }, () => Math.floor(Math.random() * 99) + 1)\n    let currentIndex = 0\n\n    if (showNumber) {\n      startTime = Date.now()\n      numberInterval = window.setInterval(() => {\n        const elapsed = Date.now() - startTime\n        const progress = Math.min(elapsed / duration, 1)\n\n        if (progress >= 1) {\n          window.clearInterval(numberInterval)\n          setNumber(1)\n          setTimeout(() => {\n            setShowYear(true)\n          }, 500)\n          return\n        }\n\n        setNumber(numbers[currentIndex])\n        currentIndex = (currentIndex + 1) % numbers.length\n      }, 100)\n    }\n\n    const arrowTimer = setTimeout(() => {\n      console.log('Showing arrow')\n      setShowArrow(true)\n    }, 4500)\n\n    return () => {\n      clearTimeout(textTimer)\n      clearTimeout(numberTimer)\n      clearTimeout(arrowTimer)\n      window.clearInterval(numberInterval)\n    }\n  }, [showNumber, isResetting])\n\n  useEffect(() => {\n    document.body.style.overflow = 'auto'\n  }, [])\n\n  const handleTransitionEnd = () => {\n    setShowTransition(false)\n    setIsTransitionVisible(false)\n    if (showStory) setStartStoryAnimation(true)\n    if (showThirdPage) setStartThirdPageAnimation(true)\n    if (showFourthPage) setStartFourthPageAnimation(true)\n  }\n\n  const handleScrollStart = () => {\n    setIsTransitionVisible(true)\n  }\n\n  const scrollToSection = (ref: React.RefObject<HTMLDivElement>, setShowState: (value: boolean) => void) => {\n    setShowTransition(true)\n    setShowState(true)\n    setStartStoryAnimation(false)\n    setStartThirdPageAnimation(false)\n    setStartFourthPageAnimation(false)\n    \n    setTimeout(() => {\n      if (ref.current) {\n        ref.current.scrollIntoView({ behavior: 'smooth' })\n      }\n    }, 500)\n  }\n\n  const scrollDown = () => {\n    console.log('Scroll clicked')\n    scrollToSection(storyRef, setShowStory)\n  }\n\n  const scrollToThirdPage = () => {\n    scrollToSection(thirdPageRef, setShowThirdPage)\n  }\n\n  const scrollToFourthPage = () => {\n    scrollToSection(fourthPageRef, setShowFourthPage)\n  }\n\n  const scrollToFinalPage = () => {\n    scrollToSection(finalPageRef, setShowFinalPage)\n  }\n\n  const scrollToTop = () => {\n    // Сначала скрываем все блоки\n    setShowStory(false)\n    setShowThirdPage(false)\n    setShowFourthPage(false)\n    setShowFinalPage(false)\n    \n    // Сбрасываем состояния первой страницы\n    setShowText(false)\n    setShowNumber(false)\n    setNumber(0)\n    setShowYear(false)\n    setShowArrow(false)\n    \n    // Сбрасываем состояния анимации\n    setStartStoryAnimation(false)\n    setStartThirdPageAnimation(false)\n    setStartFourthPageAnimation(false)\n    \n    // Показываем анимацию перехода\n    setShowTransition(true)\n    setIsTransitionVisible(true)\n    \n    // После анимации скроллим наверх\n    setTimeout(() => {\n      if (firstPageRef.current) {\n        firstPageRef.current.scrollIntoView({ behavior: 'smooth' })\n      }\n    }, 500)\n  }\n\n  return (\n    <div className={styles.container}>\n      <HeartsAnimation />\n      {showTransition && (\n        <PageTransition \n          onTransitionEnd={handleTransitionEnd}\n          onScrollStart={handleScrollStart}\n          isVisible={isTransitionVisible}\n          direction={showFinalPage ? 'up' : 'down'}\n        />\n      )}\n\n      <div className={styles.section} ref={firstPageRef}>\n        <FirstPage\n          showText={showText}\n          showNumber={showNumber}\n          number={number}\n          showYear={showYear}\n          showArrow={showArrow}\n          onScrollClick={scrollDown}\n          pageRef={firstPageRef}\n        />\n      </div>\n      {showStory && (\n        <div className={styles.section} ref={storyRef}>\n          <StoryBlock\n            title=\"За это время мы смогли ...\"\n            items={secondPageItems}\n            onScrollClick={scrollToThirdPage}\n            backgroundImage={{\n              avif: '/lesyayear/images/back/page2.avif',\n              webp: '/lesyayear/images/back/page2.webp',\n              jpg: '/lesyayear/images/back/page2.jpg'\n            }}\n            startAnimation={startStoryAnimation}\n          />\n        </div>\n      )}\n      {showThirdPage && (\n        <div className={styles.section} ref={thirdPageRef}>\n          <StoryBlock\n            title=\"А также мы ...\"\n            items={thirdPageItems}\n            onScrollClick={scrollToFourthPage}\n            backgroundImage={{\n              avif: '/lesyayear/images/back/page3.avif',\n              webp: '/lesyayear/images/back/page3.webp',\n              jpg: '/lesyayear/images/back/page3.jpg'\n            }}\n            startAnimation={startThirdPageAnimation}\n          />\n        </div>\n      )}\n      {showFourthPage && (\n        <div className={styles.section} ref={fourthPageRef}>\n          <StoryBlock\n            title=\"Мы провели ...\"\n            items={fourthPageItems}\n            onScrollClick={scrollToFinalPage}\n            backgroundImage={{\n              avif: '/lesyayear/images/back/page4.avif',\n              webp: '/lesyayear/images/back/page4.webp',\n              jpg: '/lesyayear/images/back/page4.jpg'\n            }}\n            startAnimation={startFourthPageAnimation}\n          />\n        </div>\n      )}\n      {showFinalPage && (\n        <div className={styles.section} ref={finalPageRef}>\n          <FinalPage onScrollToTop={scrollToTop} />\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './style.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n) "],"names":["f","require$$0","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","reactJsxRuntime_production_min","jsx","jsxs","jsxRuntimeModule","exports","createRoot","hydrateRoot","Title","show","className","styles","children","Counter","number","showYear","counter","text","counterWrapper","year","ScrollArrow","onClick","FirstPage","showText","showNumber","showArrow","onScrollClick","pageRef","bgLoaded","setBgLoaded","useState","bgUrl","setBgUrl","useEffect","async","avifSupported","self","createImageBitmap","avifData","blob","fetch","then","r","supportsAvif","imageUrl","img","Image","src","onload","onerror","fallbackUrl","fallbackImg","error","checkFormatSupport","style","OptimizedBackground","image","isLoaded","setIsLoaded","setError","avif","webp","jpg","OptimizedImage","alt","srcSet","loading","placeholder","StoryBlock","title","items","backgroundImage","startAnimation","showTitle","setShowTitle","showItems","setShowItems","Array","length","fill","showArrowState","setShowArrowState","titleTimer","setTimeout","itemTimers","map","_","index","prev","newItems","clearTimeout","forEach","timer","storyBlock","content","item","imageWrapper","ScrollToTop","MemoizedText","memo","isLast","lastText","MemoizedGifs","containerRef","useRef","isVisible","setIsVisible","observer","IntersectionObserver","entry","isIntersecting","threshold","observe","unobserve","gifsContainer","Fragment","gif","FinalPage","onScrollToTop","showTexts","setShowTexts","showGifs","setShowGifs","showScrollToTop","setShowScrollToTop","handleScrollToTop","useCallback","textTimers","newTexts","finalPage","MAX_HEARTS","window","innerWidth","HEARTS","HeartsAnimation","heartsRef","Set","nextIdRef","isActiveRef","handleVisibilityChange","document","hidden","innerHTML","clear","addEventListener","intervalId","setInterval","id","add","containerHeight","offsetHeight","heart","createElement","dataset","toString","emoji","Math","floor","random","left","duration","delay","bottom","animationDuration","animationDelay","willChange","textContent","remove","delete","appendChild","size","oldestId","from","oldestHeart","querySelector","clearInterval","removeEventListener","PageTransition","onTransitionEnd","onScrollStart","direction","isAnimating","setIsAnimating","showAnimation","hideAnimation","visibility","secondPageItems","thirdPageItems","fourthPageItems","App","setShowText","setShowNumber","setNumber","setShowYear","setShowArrow","showStory","setShowStory","showThirdPage","setShowThirdPage","showFourthPage","setShowFourthPage","showFinalPage","setShowFinalPage","showTransition","setShowTransition","isResetting","setIsResetting","isTransitionVisible","setIsTransitionVisible","startStoryAnimation","setStartStoryAnimation","startThirdPageAnimation","setStartThirdPageAnimation","startFourthPageAnimation","setStartFourthPageAnimation","firstPageRef","storyRef","thirdPageRef","fourthPageRef","finalPageRef","textTimer","numberTimer","numberInterval","startTime","numbers","currentIndex","Date","now","elapsed","min","arrowTimer","body","overflow","scrollToSection","setShowState","scrollIntoView","behavior","ReactDOM","getElementById","render","React","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,2]}