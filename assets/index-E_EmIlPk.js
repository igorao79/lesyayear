import{r as e,a as s,R as t}from"./react-vendor-B4gRMC9K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var r={exports:{}},a={},o=e,i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function u(e,s,t){var r,a={},o=null,n=null;for(r in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(n=s.ref),s)l.call(s,r)&&!m.hasOwnProperty(r)&&(a[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:n,props:a,_owner:c.current}}a.Fragment=n,a.jsx=u,a.jsxs=u,r.exports=a;var d=r.exports,_={},h=s;_.createRoot=h.createRoot,_.hydrateRoot=h.hydrateRoot;const f="_firstPage_1k5h2_1",g="_content_1k5h2_29",p="_title_1a5df_1",y="_show_1a5df_9",x=({show:e})=>d.jsx("h1",{className:`${p} ${e?y:""}`,children:"С годовщиной, Леся!"}),v={counter:"_counter_rf9k5_1",show:"_show_rf9k5_9",text:"_text_rf9k5_14",number:"_number_rf9k5_19",year:"_year_rf9k5_24"},w=({number:e,showYear:s,show:t})=>d.jsxs("div",{className:`${v.counter} ${t?v.show:""}`,children:[d.jsx("span",{className:v.text,children:"Мы вместе уже"}),d.jsxs("div",{className:v.counterWrapper,children:[d.jsx("span",{className:v.number,children:e}),d.jsx("span",{className:`${v.year} ${s?v.show:""}`,children:"год"})]})]}),j="_container_1v04x_1",b="_arrow_1v04x_9",N="_show_1v04x_19",k=({show:e,onClick:s})=>d.jsx("div",{className:j,children:d.jsx("div",{className:`${b} ${e?N:""}`,onClick:s,children:"↓"})}),S=({showText:e,showNumber:s,number:t,showYear:r,showArrow:a,onScrollClick:o,pageRef:i})=>d.jsx("div",{ref:i,className:f,children:d.jsxs("div",{className:g,children:[d.jsx(x,{show:e}),d.jsx(w,{show:s,number:t,showYear:r}),d.jsx(k,{show:a,onClick:o})]})}),T={storyBlock:"_storyBlock_1svom_1",content:"_content_1svom_28",title:"_title_1svom_43",show:"_show_1svom_51",items:"_items_1svom_56",item:"_item_1svom_56",text:"_text_1svom_77",imageWrapper:"_imageWrapper_1svom_81"},$=({title:s,items:t,onScrollClick:r,backgroundImage:a,showArrow:o=!0})=>{const[i,n]=e.useState(!1),[l,c]=e.useState(new Array(t.length).fill(!1)),[m,u]=e.useState(!1);return e.useEffect((()=>{const e=setTimeout((()=>{n(!0)}),500),s=t.map(((e,s)=>setTimeout((()=>{c((e=>{const t=[...e];return t[s]=!0,t})),s===t.length-1&&setTimeout((()=>u(!0)),1e3)}),1e3+1500*s)));return()=>{clearTimeout(e),s.forEach((e=>clearTimeout(e)))}}),[t.length]),d.jsx("div",{className:T.storyBlock,style:{"--bg-image":`url(${a})`},children:d.jsxs("div",{className:T.content,children:[d.jsx("h2",{className:`${T.title} ${i?T.show:""}`,children:s}),d.jsx("div",{className:T.items,children:t.map(((e,s)=>d.jsxs("div",{className:`${T.item} ${l[s]?T.show:""}`,children:[d.jsx("p",{className:T.text,children:e.text}),d.jsx("div",{className:T.imageWrapper,children:d.jsxs("picture",{children:[d.jsx("source",{srcSet:e.image.avif,type:"image/avif"}),d.jsx("source",{srcSet:e.image.webp,type:"image/webp"}),d.jsx("img",{src:e.image.jpg,alt:e.text,className:T.image})]})})]},s)))}),o&&r&&d.jsx(k,{show:m,onClick:r})]})})},E={finalPage:"_finalPage_1m1a1_1",content:"_content_1m1a1_28",text:"_text_1m1a1_43",show:"_show_1m1a1_50",gifsContainer:"_gifsContainer_1m1a1_80",gif:"_gif_1m1a1_80"},R="_scrollToTop_r80cw_1",C="_arrow_r80cw_22",I=({onClick:e})=>d.jsx("div",{className:R,onClick:e,children:d.jsx("span",{className:C,children:"↑"})}),L=e.memo((({text:e,show:s,isLast:t})=>d.jsx("h2",{className:`${E.text} ${s?E.show:""} ${t?E.lastText:""}`,children:e}))),O=e.memo((({show:s})=>{const t=e.useRef(null),[r,a]=e.useState(!1);return e.useEffect((()=>{const e=new IntersectionObserver((([e])=>{a(e.isIntersecting)}),{threshold:.1});return t.current&&e.observe(t.current),()=>{t.current&&e.unobserve(t.current)}}),[]),d.jsx("div",{ref:t,className:`${E.gifsContainer} ${s?E.show:""}`,children:r&&d.jsxs(d.Fragment,{children:[d.jsx("img",{src:"/lesyayear/images/kotikleft.gif",alt:"Love gif 1",className:E.gif,loading:"lazy"}),d.jsx("img",{src:"/lesyayear/images/kotikright.gif",alt:"Love gif 2",className:E.gif,loading:"lazy"})]})})})),P=({onScrollToTop:s})=>{const[t,r]=e.useState(new Array(3).fill(!1)),[a,o]=e.useState(!1),[i,n]=e.useState(!1),l=e.useCallback((()=>{s()}),[s]);return e.useEffect((()=>{const e=[0,1,2].map((e=>setTimeout((()=>{r((s=>{const t=[...s];return t[e]=!0,t})),2===e&&setTimeout((()=>{o(!0),setTimeout((()=>{n(!0)}),1e3)}),1e3)}),1e3+1500*e)));return()=>{e.forEach((e=>clearTimeout(e))),n(!1)}}),[]),d.jsxs("div",{className:E.finalPage,children:[d.jsxs("div",{className:E.content,children:[d.jsx(L,{text:"Спасибо тебе за все",show:t[0],isLast:!1}),d.jsx(L,{text:"Надеюсь, мы будем вместе всегда",show:t[1],isLast:!1}),d.jsx(L,{text:"Я очень тебя люблю",show:t[2],isLast:!0}),d.jsx(O,{show:a})]}),i&&d.jsx(I,{onClick:l})]})},M="_heartsContainer_u9aiy_1",D="_heart_u9aiy_1",A=["❤️","💖","💝","💕","💗","💓","💞","💘"],z=()=>{const[s,t]=e.useState([]),r=e.useRef(),a=e.useRef(!0);return e.useEffect((()=>{const e=()=>{document.hidden?(a.current=!1,t([])):a.current=!0};return document.addEventListener("visibilitychange",e),r.current=window.setInterval((()=>{if(!a.current)return;const e={id:Date.now(),emoji:A[Math.floor(Math.random()*A.length)],left:100*Math.random(),animationDuration:3+2*Math.random(),delay:2*Math.random()};t((s=>{const t=[...s,e];return t.length>15?t.slice(-15):t}))}),300),()=>{r.current&&window.clearInterval(r.current),document.removeEventListener("visibilitychange",e)}}),[]),d.jsx("div",{className:M,children:s.map((e=>d.jsx("div",{className:D,style:{left:`${e.left}%`,animationDuration:`${e.animationDuration}s`,animationDelay:`${e.delay}s`},children:e.emoji},e.id)))})},B="_transition_qg8za_1",W="_animate_qg8za_17",Y="_heart_qg8za_22",q=({onTransitionEnd:s})=>{const[t,r]=e.useState(!0);return e.useEffect((()=>{const e=setTimeout((()=>{r(!1),s()}),1e3);return()=>clearTimeout(e)}),[s]),d.jsx("div",{className:`${B} ${t?W:""}`,children:d.jsx("div",{className:Y,children:"❤️"})})},F="_container_1x3kp_1",U="_section_1x3kp_7",V=[{text:"Познакомиться и полюбить друг друга",image:{avif:"/lesyayear/images/us/meet.avif",webp:"/lesyayear/images/us/meet.webp",jpg:"/lesyayear/images/us/meet.jpg"}},{text:"Пройти через многие трудности",image:{avif:"/lesyayear/images/us/memories.avif",webp:"/lesyayear/images/us/memories.webp",jpg:"/lesyayear/images/us/memories.jpg"}}],K=[{text:"Впервые побывали в столице",image:{avif:"/lesyayear/images/us/travel.avif",webp:"/lesyayear/images/us/travel.webp",jpg:"/lesyayear/images/us/travel.jpg"}},{text:"Почувствовали морской бриз",image:{avif:"/lesyayear/images/us/support.avif",webp:"/lesyayear/images/us/support.webp",jpg:"/lesyayear/images/us/support.jpg"}}],G=[{text:"Это замечательное лето вместе",image:{avif:"/lesyayear/images/us/summer.avif",webp:"/lesyayear/images/us/summer.webp",jpg:"/lesyayear/images/us/summer.jpg"}},{text:"И с каждым днем ты становишься все прекраснее",image:{avif:"/lesyayear/images/us/computer.avif",webp:"/lesyayear/images/us/computer.webp",jpg:"/lesyayear/images/us/computer.jpg"}}];function H(){const[s,t]=e.useState(!1),[r,a]=e.useState(!1),[o,i]=e.useState(0),[n,l]=e.useState(!1),[c,m]=e.useState(!1),[u,_]=e.useState(!1),[h,f]=e.useState(!1),[g,p]=e.useState(!1),[y,x]=e.useState(!1),[v,w]=e.useState(!1),[j,b]=e.useState(!1),N=e.useRef(null),k=e.useRef(null),T=e.useRef(null),E=e.useRef(null),R=e.useRef(null);e.useEffect((()=>{if(j)return void b(!1);const e=setTimeout((()=>{t(!0)}),1e3),s=setTimeout((()=>{a(!0)}),2e3);let o,n;const c=Array.from({length:50},(()=>Math.floor(99*Math.random())+1));let u=0;r&&(n=Date.now(),o=window.setInterval((()=>{const e=Date.now()-n;if(Math.min(e/2500,1)>=1)return window.clearInterval(o),i(1),void setTimeout((()=>{l(!0)}),500);i(c[u]),u=(u+1)%c.length}),100));const d=setTimeout((()=>{m(!0)}),4500);return()=>{clearTimeout(e),clearTimeout(s),clearTimeout(d),window.clearInterval(o)}}),[r,j]),e.useEffect((()=>{document.body.style.overflow="auto"}),[]);const C=(e,s)=>{w(!0),s(!0),setTimeout((()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})}),500)};return d.jsxs("div",{className:F,children:[d.jsx(z,{}),v&&d.jsx(q,{onTransitionEnd:()=>{w(!1)}}),d.jsx("div",{className:U,ref:N,children:d.jsx(S,{showText:s,showNumber:r,number:o,showYear:n,showArrow:c,onScrollClick:()=>{C(k,_)},pageRef:N})}),u&&d.jsx("div",{className:U,ref:k,children:d.jsx($,{title:"За это время мы смогли ...",items:V,onScrollClick:()=>{C(T,f)},backgroundImage:"/lesyayear/images/back/page2.jpg"})}),h&&d.jsx("div",{className:U,ref:T,children:d.jsx($,{title:"А также мы ...",items:K,onScrollClick:()=>{C(E,p)},backgroundImage:"/lesyayear/images/back/page3.jpg"})}),g&&d.jsx("div",{className:U,ref:E,children:d.jsx($,{title:"Мы провели ...",items:G,onScrollClick:()=>{C(R,x)},backgroundImage:"/lesyayear/images/back/page4.jpg"})}),y&&d.jsx("div",{className:U,ref:R,children:d.jsx(P,{onScrollToTop:()=>{w(!0),b(!0),N.current&&N.current.scrollIntoView({behavior:"smooth"}),_(!1),f(!1),p(!1),x(!1),t(!1),a(!1),i(0),l(!1),m(!1)}})})]})}_.createRoot(document.getElementById("root")).render(d.jsx(t.StrictMode,{children:d.jsx(H,{})}));
//# sourceMappingURL=index-E_EmIlPk.js.map
